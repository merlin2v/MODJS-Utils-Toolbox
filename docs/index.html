<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		<link rel="stylesheet" href="main.css">
		<title>MODJS Utils Toolbox</title>
	</head>
	<body>

		<header>
			<div>
				<h1>MODJS Utils Toolbox</h1>
				<h2>Selector</h2>
			</div>
			<div id="gotogit">
			<a href="https://github.com/merlin2v/MODJS-Utils-Toolbox">
				<svg height="32" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
				</a>
			</div>
		</header>
		<nav></nav>
		<article>
			<section>
				<h1>Select A File:</h1>
				<script>getlink= (x,g,b)=>{
						if(!b.value.endsWith(".js")||!g.value){return;}
						var a=((g.value==1)?'https://rawgit.com/merlin2v/MODJS-Utils-Toolbox/master/src/':'https://merlin2v.github.io/MODJS-Utils-Toolbox/')+b.value;
						x.innerHTML=`<a href="${a}">${a}</a>`;
						if(g.value==2){
							x.innerHTML=`<a href="${a}">${a}</a>`;
						}
						x.value=a;
					}</script>
					<form id="form" onchange="getlink(x,g,b)"
								oninput="getlink(x,g,b)">
						<formset id="a">
							<input type="radio" value="1" name="g">Dev<br>
							<input type="radio" value="2" name="g">Production
						</formset>
						<script>
							getstuff= function(username){
								var me = document.getElementById("b");
								me.innerHTML=("<span>Querying GitHub for " + username +"s repositories...</span>");
								var list = document.getElementById('b');
								var func = function(l=list){
											//console.log("FUNC CALLED");
											return function(data){
												//console.log("INNER FUNC CALLED");
											data.forEach(function(e) {
												var add;
												if(e.type==="dir"){
													add = document.createElement('optgroup');
													add.label = e.name;
													//console.log(e.url);
													fetch(e.url)
														.then(r => r.json()).then(func(add));
												}else{
													
													add = document.createElement('option');
													add.value = e.name;
													add.innerText = e.name;
												}
												l.append(add);
											});
										};
										};
								var a=fetch('https://api.github.com/repos/merlin2v/MODJS-Utils-Toolbox/contents/src')
									.then(r => r.json())
									.then((func(list)));
								//console.log(a);
							}
							//getstuff()
						</script>
						<select type="" id="b" value="50" list="data" onload="getstuff('merlin2v')"> id="data" onload="getstuff()">
							<option value="Internet Explorer">
						</select>
						<script>getstuff()</script><br/>
						<hr/>
						<output name="x" for="a b">&nbsp;</output>
					</form>
				</section>
		</article>
		<footer>
			&nbsp;
		</footer>
	</body>
</html>
